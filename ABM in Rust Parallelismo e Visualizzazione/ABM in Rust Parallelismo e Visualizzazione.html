<!DOCTYPE html><html lang="it-IT"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0"><meta name="apple-mobile-web-app-capable" content="yes"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta property="og:type" content="website"><meta name="twitter:card" content="summary"><style>.bespoke-marp-note,.bespoke-marp-osc,.bespoke-progress-parent{display:none;transition:none}@media screen{body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:0;color:inherit;cursor:pointer;font-size:inherit;opacity:.8;outline:none;padding:0;transition:opacity .2s linear;-webkit-tap-highlight-color:transparent}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:disabled,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:disabled,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:disabled{cursor:not-allowed;opacity:.15!important}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover{opacity:1}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:active,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:active,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover:active{opacity:.6}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:not(:disabled),body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:not(:disabled),body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover:not(:disabled){transition:none}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button.bespoke-marp-presenter-info-page-prev{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNNjggOTBMMjggNTBsNDAtNDAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button.bespoke-marp-presenter-info-page-next{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNMzIgOTBsNDAtNDAtNDAtNDAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen]{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NXB4fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJhIiB4PSIxMCIgeT0iMjAiIHdpZHRoPSI4MCIgaGVpZ2h0PSI2MCIgcng9IjUuNjciLz48cGF0aCBjbGFzcz0iYSIgZD0iTTQwIDcwSDIwVjUwbTIwIDBMMjAgNzBtNDAtNDBoMjB2MjBtLTIwIDBsMjAtMjAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button.exit[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button.exit[data-bespoke-marp-osc=fullscreen]{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NXB4fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJhIiB4PSIxMCIgeT0iMjAiIHdpZHRoPSI4MCIgaGVpZ2h0PSI2MCIgcng9IjUuNjciLz48cGF0aCBjbGFzcz0iYSIgZD0iTTIwIDUwaDIwdjIwbS0yMCAwbDIwLTIwbTQwIDBINjBWMzBtMjAgMEw2MCA1MCIvPjwvc3ZnPg==")}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter]{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS13aWR0aDo1cHh9PC9zdHlsZT48L2RlZnM+PHBhdGggY2xhc3M9ImEiIGQ9Ik0yMCA2MGgtNWE1IDUgMCAwMS01LTVWMjBhNSA1IDAgMDE1LTVoNjBhNSA1IDAgMDE1IDV2NU0zMCA4NWg2MCIvPjxyZWN0IHg9IjMwIiB5PSIzNSIgd2lkdGg9IjYwIiBoZWlnaHQ9IjQwIiByeD0iNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmIi8+PHJlY3QgY2xhc3M9ImEiIHg9IjMwIiB5PSIzNSIgd2lkdGg9IjYwIiBoZWlnaHQ9IjQwIiByeD0iNSIvPjxwYXRoIGNsYXNzPSJhIiBkPSJNNDAgNTBoNDBNNDAgNjBoMzAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body,html{height:100%;margin:0}body{background:#000;overflow:hidden}svg.bespoke-marp-slide{opacity:0;pointer-events:none;z-index:-1}svg.bespoke-marp-slide.bespoke-marp-active{opacity:1;pointer-events:auto;z-index:0}svg.bespoke-marp-slide.bespoke-marp-active.bespoke-marp-active-ready *{-webkit-animation-name:__bespoke_marp__!important;animation-name:__bespoke_marp__!important}svg.bespoke-marp-slide[data-bespoke-marp-load=hideable]{display:none}svg.bespoke-marp-slide[data-bespoke-marp-load=hideable].bespoke-marp-active{display:block}[data-bespoke-marp-fragment=inactive]{visibility:hidden}body[data-bespoke-view=""] .bespoke-marp-parent,body[data-bespoke-view=next] .bespoke-marp-parent{bottom:0;left:0;position:absolute;right:0;top:0}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc{background:rgba(0,0,0,.65);border-radius:7px;bottom:50px;color:#fff;display:block;font-family:Helvetica,Arial,sans-serif;font-size:16px;left:50%;line-height:0;opacity:1;padding:12px;position:absolute;touch-action:manipulation;transform:translateX(-50%);transition:opacity .2s linear;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;z-index:1;will-change:transform}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>*,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>*{margin-left:6px}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>:first-child,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>:first-child{margin-left:0}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>span,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>span{opacity:.8}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>span[data-bespoke-marp-osc=page],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>span[data-bespoke-marp-osc=page]{display:inline-block;min-width:140px;text-align:center}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev]{height:32px;line-height:32px;width:32px}body[data-bespoke-view=""] .bespoke-marp-parent.bespoke-marp-inactive,body[data-bespoke-view=next] .bespoke-marp-parent.bespoke-marp-inactive{cursor:none}body[data-bespoke-view=""] .bespoke-marp-parent.bespoke-marp-inactive>.bespoke-marp-osc,body[data-bespoke-view=next] .bespoke-marp-parent.bespoke-marp-inactive>.bespoke-marp-osc{opacity:0;pointer-events:none}body[data-bespoke-view=""] svg.bespoke-marp-slide,body[data-bespoke-view=next] svg.bespoke-marp-slide{height:100%;left:0;position:absolute;top:0;width:100%}body[data-bespoke-view=""] .bespoke-progress-parent{background:#222;display:flex;height:5px;width:100%}body[data-bespoke-view=""] .bespoke-progress-parent+.bespoke-marp-parent{top:5px}body[data-bespoke-view=""] .bespoke-progress-parent .bespoke-progress-bar{flex:0 0 0;background:#0288d1;transition:flex-basis .2s cubic-bezier(0,1,1,1)}body[data-bespoke-view=next]{background:transparent}body[data-bespoke-view=presenter]{background:#161616}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container{font-family:Helvetica,Arial,sans-serif;height:100%;left:0;position:absolute;top:0;width:100%;display:grid;grid-template-columns:2fr 1fr;grid-template-rows:minmax(140px,1fr) 2fr 3em;grid-template-areas:"current next" "current note" "info    note"}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent{grid-area:current;position:relative;overflow:hidden}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent svg.bespoke-marp-slide{height:calc(100% - 40px);left:20px;position:absolute;pointer-events:none;top:20px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent svg.bespoke-marp-slide.bespoke-marp-active{-webkit-filter:drop-shadow(0 3px 10px rgba(0,0,0,.5));filter:drop-shadow(0 3px 10px rgba(0,0,0,.5))}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container{background:#222;cursor:pointer;display:none;grid-area:next;overflow:hidden;position:relative}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container.active{display:block}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container iframe.bespoke-marp-presenter-next{background:transparent;border:0;display:block;-webkit-filter:drop-shadow(0 3px 10px rgba(0,0,0,.5));filter:drop-shadow(0 3px 10px rgba(0,0,0,.5));height:calc(100% - 40px);left:20px;position:absolute;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;top:20px;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container{background:#222;color:#eee;grid-area:note}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note{margin:20px;width:calc(100% - 40px);height:calc(100% - 40px);box-sizing:border-box;font-size:1.1em;overflow:auto;padding-right:3px;white-space:pre-wrap;word-wrap:break-word;scrollbar-width:thin;scrollbar-color:hsla(0,0%,93.3%,.5) transparent}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar{width:6px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar-track{background:transparent}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar-thumb{background:hsla(0,0%,93.3%,.5);border-radius:6px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note:empty{pointer-events:none}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note.active{display:block}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note p:first-child{margin-top:0}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note p:last-child{margin-bottom:0}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container{align-items:center;box-sizing:border-box;color:#eee;display:flex;flex-wrap:nowrap;grid-area:info;justify-content:center;padding:0 10px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-time,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer{display:block;box-sizing:border-box;padding:0 10px;white-space:nowrap;width:100%}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button{height:1.5em;line-height:1.5em;width:1.5em}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page{order:2;text-align:center}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page .bespoke-marp-presenter-info-page-text{display:inline-block;min-width:120px;text-align:center}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-time{color:#999;order:1;text-align:left}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer{color:#999;order:3;text-align:right}}@media print{.bespoke-marp-presenter-info-container,.bespoke-marp-presenter-next-container,.bespoke-marp-presenter-note-container{display:none}}</style><style>@charset "UTF-8";@import url("https://fonts.googleapis.com/css?family=Lato:400,900|Roboto+Mono:400,700&display=swap");div#p>svg>foreignObject>section{width:1280px;height:720px;box-sizing:border-box;overflow:hidden;position:relative;scroll-snap-align:center center}div#p>svg>foreignObject>section:after{bottom:0;content:attr(data-marpit-pagination);padding:inherit;pointer-events:none;position:absolute;right:0}div#p>svg>foreignObject>section:not([data-marpit-pagination]):after{display:none}/* Normalization */div#p>svg>foreignObject>section h1{font-size:2em;margin:0.67em 0}div#p>svg>foreignObject>section video::-webkit-media-controls{will-change:transform}@page{size:1280px 720px;margin:0}@media print{body,html{background-color:#fff;margin:0;page-break-inside:avoid;break-inside:avoid-page}div#p>svg>foreignObject>section{page-break-before:always;break-before:page}div#p>svg>foreignObject>section,div#p>svg>foreignObject>section *{-webkit-print-color-adjust:exact!important;animation-delay:0s!important;animation-duration:0s!important;color-adjust:exact!important;transition:none!important}div#p>svg[data-marpit-svg]{display:block;height:100vh;width:100vw}}div#p>svg>foreignObject>section svg[data-marp-fitting=svg]{display:block;height:auto;width:100%}@supports (-ms-ime-align:auto){div#p>svg>foreignObject>section svg[data-marp-fitting=svg]{position:static}}div#p>svg>foreignObject>section svg[data-marp-fitting=svg].__reflow__{content:""}@supports (-ms-ime-align:auto){div#p>svg>foreignObject>section svg[data-marp-fitting=svg].__reflow__{position:relative}}div#p>svg>foreignObject>section [data-marp-fitting-svg-content]{display:table;white-space:nowrap}div#p>svg>foreignObject>section [data-marp-fitting-svg-content-wrap]{white-space:pre}div#p>svg>foreignObject>section img[data-marp-twemoji]{background:transparent;height:1em;margin:0 .05em 0 .1em;vertical-align:-.1em;width:1em}
/*!
 * Marp / Marpit Gaia theme.
 *
 * @theme gaia
 * @author Yuki Hattori
 *
 * @auto-scaling true
 * @size 4:3 960px 720px
 */div#p>svg>foreignObject>section .hljs{display:block;overflow-x:auto;padding:.5em;background:#000;color:#f8f8f8}div#p>svg>foreignObject>section .hljs-comment,div#p>svg>foreignObject>section .hljs-quote{color:#aeaeae;font-style:italic}div#p>svg>foreignObject>section .hljs-keyword,div#p>svg>foreignObject>section .hljs-selector-tag,div#p>svg>foreignObject>section .hljs-type{color:#e28964}div#p>svg>foreignObject>section .hljs-string{color:#65b042}div#p>svg>foreignObject>section .hljs-subst{color:#daefa3}div#p>svg>foreignObject>section .hljs-link,div#p>svg>foreignObject>section .hljs-regexp{color:#e9c062}div#p>svg>foreignObject>section .hljs-name,div#p>svg>foreignObject>section .hljs-section,div#p>svg>foreignObject>section .hljs-tag,div#p>svg>foreignObject>section .hljs-title{color:#89bdff}div#p>svg>foreignObject>section .hljs-class .hljs-title,div#p>svg>foreignObject>section .hljs-doctag{text-decoration:underline}div#p>svg>foreignObject>section .hljs-bullet,div#p>svg>foreignObject>section .hljs-number,div#p>svg>foreignObject>section .hljs-symbol{color:#3387cc}div#p>svg>foreignObject>section .hljs-params,div#p>svg>foreignObject>section .hljs-template-variable,div#p>svg>foreignObject>section .hljs-variable{color:#3e87e3}div#p>svg>foreignObject>section .hljs-attribute{color:#cda869}div#p>svg>foreignObject>section .hljs-meta{color:#8996a8}div#p>svg>foreignObject>section .hljs-formula{background-color:#0e2231;color:#f8f8f8;font-style:italic}div#p>svg>foreignObject>section .hljs-addition{background-color:#253b22;color:#f8f8f8}div#p>svg>foreignObject>section .hljs-deletion{background-color:#420e09;color:#f8f8f8}div#p>svg>foreignObject>section .hljs-selector-class{color:#9b703f}div#p>svg>foreignObject>section .hljs-selector-id{color:#8b98ab}div#p>svg>foreignObject>section .hljs-emphasis{font-style:italic}div#p>svg>foreignObject>section .hljs-strong{font-weight:700}div#p>svg>foreignObject>section svg[data-marp-fitting=svg]{max-height:580px}div#p>svg>foreignObject>section h1,div#p>svg>foreignObject>section h2,div#p>svg>foreignObject>section h3,div#p>svg>foreignObject>section h4,div#p>svg>foreignObject>section h5,div#p>svg>foreignObject>section h6{margin:.5em 0 0}div#p>svg>foreignObject>section h1 strong,div#p>svg>foreignObject>section h2 strong,div#p>svg>foreignObject>section h3 strong,div#p>svg>foreignObject>section h4 strong,div#p>svg>foreignObject>section h5 strong,div#p>svg>foreignObject>section h6 strong{font-weight:inherit}div#p>svg>foreignObject>section h1{font-size:1.8em}div#p>svg>foreignObject>section h2{font-size:1.5em}div#p>svg>foreignObject>section h3{font-size:1.3em}div#p>svg>foreignObject>section h4{font-size:1.1em}div#p>svg>foreignObject>section h5{font-size:1em}div#p>svg>foreignObject>section h6{font-size:.9em}div#p>svg>foreignObject>section blockquote,div#p>svg>foreignObject>section p{margin:1em 0 0}div#p>svg>foreignObject>section ol>li,div#p>svg>foreignObject>section ul>li{margin:.3em 0 0}div#p>svg>foreignObject>section ol>li>p,div#p>svg>foreignObject>section ul>li>p{margin:.6em 0 0}div#p>svg>foreignObject>section code{display:inline-block;font-family:Roboto Mono,monospace;font-size:.8em;letter-spacing:0;margin:-.1em .15em;padding:.1em .2em;vertical-align:baseline}div#p>svg>foreignObject>section pre{display:block;margin:1em 0 0;min-height:1em;overflow:visible}div#p>svg>foreignObject>section pre code{box-sizing:border-box;margin:0;min-width:100%;padding:.5em;font-size:.7em}div#p>svg>foreignObject>section pre code svg[data-marp-fitting=svg]{max-height:calc(580px - 1em)}div#p>svg>foreignObject>section blockquote{margin:1em 0 0;padding:0 1em;position:relative}div#p>svg>foreignObject>section blockquote:after,div#p>svg>foreignObject>section blockquote:before{content:"“";display:block;font-family:Times New Roman,serif;font-weight:700;position:absolute}div#p>svg>foreignObject>section blockquote:before{top:0;left:0}div#p>svg>foreignObject>section blockquote:after{right:0;bottom:0;transform:rotate(180deg)}div#p>svg>foreignObject>section blockquote>:first-child{margin-top:0}div#p>svg>foreignObject>section mark{background:transparent}div#p>svg>foreignObject>section table{border-spacing:0;border-collapse:collapse;margin:1em 0 0}div#p>svg>foreignObject>section table td,div#p>svg>foreignObject>section table th{padding:.2em .4em;border-width:1px;border-style:solid}div#p>svg>foreignObject>section{background-image:linear-gradient(135deg,hsla(0,0%,53.3%,0),hsla(0,0%,53.3%,.02) 50%,hsla(0,0%,100%,0) 0,hsla(0,0%,100%,.05));font-size:35px;font-family:Lato,Avenir Next,Avenir,Trebuchet MS,Segoe UI,sans-serif;height:720px;line-height:1.35;letter-spacing:1.25px;padding:70px;width:1280px;word-wrap:break-word;color:#455a64;background-color:#fff8e1}div#p>svg>foreignObject>section{--marpit-root-font-size:35px}div#p>svg>foreignObject>section>:first-child,div#p>svg>foreignObject>section>header:first-child+*{margin-top:0}div#p>svg>foreignObject>section a,div#p>svg>foreignObject>section mark{color:#0288d1}div#p>svg>foreignObject>section code{background:#6a7a7d;color:#fff8e1}div#p>svg>foreignObject>section h1 strong,div#p>svg>foreignObject>section h2 strong,div#p>svg>foreignObject>section h3 strong,div#p>svg>foreignObject>section h4 strong,div#p>svg>foreignObject>section h5 strong,div#p>svg>foreignObject>section h6 strong{color:#0288d1}div#p>svg>foreignObject>section pre>code{background:#455a64}div#p>svg>foreignObject>section blockquote:after,div#p>svg>foreignObject>section blockquote:before,div#p>svg>foreignObject>section footer,div#p>svg>foreignObject>section header,div#p>svg>foreignObject>section section:after{color:#6a7a7d}div#p>svg>foreignObject>section table td,div#p>svg>foreignObject>section table th{border-color:#455a64}div#p>svg>foreignObject>section table thead th{background:#455a64;color:#fff8e1}div#p>svg>foreignObject>section table tbody>tr:nth-child(odd) td,div#p>svg>foreignObject>section table tbody>tr:nth-child(odd) th{background:rgba(69,90,100,.1)}div#p>svg>foreignObject>section.invert{color:#fff8e1;background-color:#455a64}div#p>svg>foreignObject>section.invert a,div#p>svg>foreignObject>section.invert mark{color:#81d4fa}div#p>svg>foreignObject>section.invert code{background:#dad8c8;color:#455a64}div#p>svg>foreignObject>section.invert h1 strong,div#p>svg>foreignObject>section.invert h2 strong,div#p>svg>foreignObject>section.invert h3 strong,div#p>svg>foreignObject>section.invert h4 strong,div#p>svg>foreignObject>section.invert h5 strong,div#p>svg>foreignObject>section.invert h6 strong{color:#81d4fa}div#p>svg>foreignObject>section.invert pre>code{background:#fff8e1}div#p>svg>foreignObject>section.invert blockquote:after,div#p>svg>foreignObject>section.invert blockquote:before,div#p>svg>foreignObject>section.invert footer,div#p>svg>foreignObject>section.invert header,div#p>svg>foreignObject>section.invert section:after{color:#dad8c8}div#p>svg>foreignObject>section.invert table td,div#p>svg>foreignObject>section.invert table th{border-color:#fff8e1}div#p>svg>foreignObject>section.invert table thead th{background:#fff8e1;color:#455a64}div#p>svg>foreignObject>section.invert table tbody>tr:nth-child(odd) td,div#p>svg>foreignObject>section.invert table tbody>tr:nth-child(odd) th{background:rgba(255,248,225,.1)}div#p>svg>foreignObject>section.gaia{color:#fff8e1;background-color:#0288d1}div#p>svg>foreignObject>section.gaia a,div#p>svg>foreignObject>section.gaia mark{color:#81d4fa}div#p>svg>foreignObject>section.gaia code{background:#cce2de;color:#0288d1}div#p>svg>foreignObject>section.gaia h1 strong,div#p>svg>foreignObject>section.gaia h2 strong,div#p>svg>foreignObject>section.gaia h3 strong,div#p>svg>foreignObject>section.gaia h4 strong,div#p>svg>foreignObject>section.gaia h5 strong,div#p>svg>foreignObject>section.gaia h6 strong{color:#81d4fa}div#p>svg>foreignObject>section.gaia pre>code{background:#fff8e1}div#p>svg>foreignObject>section.gaia blockquote:after,div#p>svg>foreignObject>section.gaia blockquote:before,div#p>svg>foreignObject>section.gaia footer,div#p>svg>foreignObject>section.gaia header,div#p>svg>foreignObject>section.gaia section:after{color:#cce2de}div#p>svg>foreignObject>section.gaia table td,div#p>svg>foreignObject>section.gaia table th{border-color:#fff8e1}div#p>svg>foreignObject>section.gaia table thead th{background:#fff8e1;color:#0288d1}div#p>svg>foreignObject>section.gaia table tbody>tr:nth-child(odd) td,div#p>svg>foreignObject>section.gaia table tbody>tr:nth-child(odd) th{background:rgba(255,248,225,.1)}div#p>svg>foreignObject>section.lead{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:center}div#p>svg>foreignObject>section.lead h1,div#p>svg>foreignObject>section.lead h2,div#p>svg>foreignObject>section.lead h3,div#p>svg>foreignObject>section.lead h4,div#p>svg>foreignObject>section.lead h5,div#p>svg>foreignObject>section.lead h6{text-align:center}div#p>svg>foreignObject>section.lead h1 svg[data-marp-fitting=svg],div#p>svg>foreignObject>section.lead h2 svg[data-marp-fitting=svg],div#p>svg>foreignObject>section.lead h3 svg[data-marp-fitting=svg],div#p>svg>foreignObject>section.lead h4 svg[data-marp-fitting=svg],div#p>svg>foreignObject>section.lead h5 svg[data-marp-fitting=svg],div#p>svg>foreignObject>section.lead h6 svg[data-marp-fitting=svg]{--preserve-aspect-ratio:xMidYMid meet}div#p>svg>foreignObject>section.lead p{text-align:center}div#p>svg>foreignObject>section.lead blockquote>h1,div#p>svg>foreignObject>section.lead blockquote>h2,div#p>svg>foreignObject>section.lead blockquote>h3,div#p>svg>foreignObject>section.lead blockquote>h4,div#p>svg>foreignObject>section.lead blockquote>h5,div#p>svg>foreignObject>section.lead blockquote>h6,div#p>svg>foreignObject>section.lead blockquote>p{text-align:left}div#p>svg>foreignObject>section.lead blockquote svg[data-marp-fitting=svg]:not([data-marp-fitting-math]){--preserve-aspect-ratio:xMinYMin meet}div#p>svg>foreignObject>section.lead ol>li>p,div#p>svg>foreignObject>section.lead ul>li>p{text-align:left}div#p>svg>foreignObject>section.lead table{margin-left:auto;margin-right:auto}div#p>svg>foreignObject>section:after,div#p>svg>foreignObject>section footer,div#p>svg>foreignObject>section header{box-sizing:border-box;font-size:66%;height:70px;line-height:50px;overflow:hidden;padding:10px 25px;position:absolute}div#p>svg>foreignObject>section:after{--marpit-root-font-size:66%}div#p>svg>foreignObject>section header{top:0}div#p>svg>foreignObject>section footer,div#p>svg>foreignObject>section header{left:0;right:0}div#p>svg>foreignObject>section footer{bottom:0}div#p>svg>foreignObject>section:after{right:0;bottom:0;font-size:80%}div#p>svg>foreignObject>section:after{--marpit-root-font-size:80%}div#p>svg>foreignObject>section img{background-color:transparent!important}div#p>svg>foreignObject>section img[alt~=center]{display:block;margin:0 auto}div#p>svg>foreignObject>section .language-rust{background-color:black!important}div#p>svg>foreignObject>section[data-marpit-advanced-background=background]{display:block!important;padding:0!important}div#p>svg>foreignObject>section[data-marpit-advanced-background=background]:after,div#p>svg>foreignObject>section[data-marpit-advanced-background=background]:before,div#p>svg>foreignObject>section[data-marpit-advanced-background=content]:after,div#p>svg>foreignObject>section[data-marpit-advanced-background=content]:before{display:none!important}div#p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container]{all:initial;display:flex;flex-direction:row;height:100%;overflow:hidden;width:100%}div#p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container][data-marpit-advanced-background-direction=vertical]{flex-direction:column}div#p>svg>foreignObject>section[data-marpit-advanced-background=background][data-marpit-advanced-background-split]>div[data-marpit-advanced-background-container]{width:var(--marpit-advanced-background-split,50%)}div#p>svg>foreignObject>section[data-marpit-advanced-background=background][data-marpit-advanced-background-split=right]>div[data-marpit-advanced-background-container]{margin-left:calc(100% - var(--marpit-advanced-background-split, 50%))}div#p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container]>figure{all:initial;background-position:center;background-repeat:no-repeat;background-size:cover;flex:auto;margin:0}div#p>svg>foreignObject>section[data-marpit-advanced-background=content],div#p>svg>foreignObject>section[data-marpit-advanced-background=pseudo]{background:transparent!important}div#p>svg>foreignObject>section[data-marpit-advanced-background=pseudo],div#p>svg[data-marpit-svg]>foreignObject[data-marpit-advanced-background=pseudo]{pointer-events:none!important}div#p>svg>foreignObject>section[data-marpit-advanced-background-split]{width:100%;height:100%}</style></head><body><div class="bespoke-marp-osc"><button data-bespoke-marp-osc="prev" tabindex="-1" title="Previous slide">Previous slide</button><span data-bespoke-marp-osc="page"></span><button data-bespoke-marp-osc="next" tabindex="-1" title="Next slide">Next slide</button><button data-bespoke-marp-osc="fullscreen" tabindex="-1" title="Toggle fullscreen (f)">Toggle fullscreen</button><button data-bespoke-marp-osc="presenter" tabindex="-1" title="Open presenter view (p)">Open presenter view</button></div><div id="p"><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-background-color="white" data-color="#262625" data-paginate="true" data-theme="gaia" data-marpit-pagination="1" data-marpit-pagination-total="81" style="--background-color:white;--color:#262625;--paginate:true;--theme:gaia;color:#262625;background-color:white;background-image:none;" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;Fondale01.bmp&quot;);"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="1" data-background-color="white" data-color="#262625" data-paginate="true" data-theme="gaia" data-marpit-pagination="1" data-marpit-pagination-total="81" style="--background-color:white;--color:#262625;--paginate:true;--theme:gaia;color:#262625;background-color:white;background-image:none;" data-marpit-advanced-background="content">
<h2>ABM in Rust: Parallelismo e Visualizzazione</h2>
<p>By Francesco Foglia &amp; Pasquale Caramante</p>
<p><img src="rust_amethyst.png" alt="width:512px" style="width:512px;" /></p>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section style="color:#262625;" data-marpit-advanced-background="pseudo" data-marpit-pagination="1" data-marpit-pagination-total="81"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="2" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="2" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>Cosa sono le simulazioni agent-based?</h1>
<p><img src="Agent-based-models.png" alt="center" /></p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="3" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="3" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>Cos'è Rust?</h1>
<h3>Rust è un linguaggio di programmazione di sistemi che si può esprimere attraverso tre keyword:</h3>
<ul>
<li>Performance</li>
<li>Reliability</li>
<li>Productivity</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="4" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="4" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<p><a href="https://insights.stackoverflow.com/survey/2020#technology-most-loved-dreaded-and-wanted-languages-loved"><img src="rust_most_loved.png" alt="width:1000px center" style="width:1000px;" /></a></p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="5" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="5" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h2>Performance</h2>
<p>Comparabile a C. Un programma scritto con Rust è già molto performante di base rispetto a programmi scritti in altri linguaggi, come Java o Go, grazie alla mancanza di un garbage collector e alle varie ottimizzazioni eseguite dal potente compiler</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="6" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="6" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h2>Reliability</h2>
<p>Varie classi di bug vengono rimosse al compile-time (la gestione della memoria permette, inoltre, la &quot;fearless concurrency&quot;)</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="7" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="7" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h2>Productivity</h2>
<p>Può sembrare difficile da usare, ma in realtà il linguaggio collabora con noi tramite errori ben definiti, una documentazione robusta e una community amichevole, assieme a Cargo, un package manager versatile e facile da usare</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="8" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="8" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h2>Esempio: Arctix vs Node</h2>
<p><img src="https://miro.medium.com/max/875/1*QbzcnM6z6tyY-TjZt-tBCg.png" alt="center" /></p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="9" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="9" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<p><img src="https://miro.medium.com/max/875/1*EUF0KKxTWYfuZJfvxZ7rRg.png" alt="center" /></p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="10" data-marpit-fragments="6" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="10" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<ul>
<li data-marpit-fragment="1">
<h2>Fearless Concurrency</h2>
</li>
<li data-marpit-fragment="2">
<h2>Multithreading nella libreria standard di Rust (il modulo std::thread)</h2>
</li>
<li data-marpit-fragment="3">
<h2>Comunicazione fra Thread</h2>
<ul>
<li data-marpit-fragment="4">Scambio di messaggi</li>
<li data-marpit-fragment="5">Memoria condivisa</li>
</ul>
</li>
<li data-marpit-fragment="6">
<h2>Rayon</h2>
</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="11" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="11" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>Rust &amp; &quot;Fearless Concurrency&quot;</h1>
<p>Parallelizzare la computazione può migliorare significativamente le performance, ma allo stesso tempo può introdurre diverse problematiche.<br />
<strong>Rust</strong> offre la possibilità di scrivere codice parallelo sicuro, privo di <strong>data races</strong>, impedendo di compilare sorgenti che violerebbero queste caratteristiche.</p>
<p><strong>Come?</strong><br />
Tramite le regole di <strong>Ownership</strong> e <strong>Borrowing</strong> ( e <strong>Type Checking</strong>!)</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="12" data-marpit-fragments="6" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="12" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>Modelli di Multithreading</h1>
<ul>
<li data-marpit-fragment="1"><strong>1:1</strong>
<ul>
<li data-marpit-fragment="2">ogni Thread creato corrisponde ad un Kernel Thread</li>
<li data-marpit-fragment="3">thread implementati dal Sistema Operativo</li>
</ul>
</li>
<li data-marpit-fragment="4"><strong>M:N</strong> (<em>Green Threading</em>):
<ul>
<li data-marpit-fragment="5">M User Thread su N Kernel Thread</li>
<li data-marpit-fragment="6">implementazione specifica del linguaggio di programmazione</li>
</ul>
</li>
</ul>
<p><strong>Rust</strong> adotta il modello di Multithreading 1:1, ma non preclude la possibilità di implementare il Green Threading.</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="13" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="13" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<pre><code class="language-rust"><svg data-marp-fitting="svg" data-marp-fitting-code><foreignObject><span data-marp-fitting-svg-content><span data-marp-fitting-svg-content-wrap><span class="hljs-keyword">use</span> std::thread;

  <span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span></span>(){

      <span class="hljs-keyword">let</span> handle = thread::spawn( || {
        <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;Ciao dal thread spawnato!&quot;</span>);      
      });

    handle.join().unwrap();
  }


</span></span></foreignObject></svg></code></pre>
<p>Usiamo la funzione <code>thread::spawn()</code> per creare un nuovo thread e ci viene restituito un valore di tipo <code>JoinHandle</code>, che ci permette di attendere la terminazione del thread creato.</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="14" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="14" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h5>Thread Safety</h5>
<pre><code class="language-rust"><svg data-marp-fitting="svg" data-marp-fitting-code><foreignObject><span data-marp-fitting-svg-content><span data-marp-fitting-svg-content-wrap><span class="hljs-keyword">use</span> std::thread;

  <span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span></span>(){
      <span class="hljs-keyword">let</span> x=<span class="hljs-built_in">String</span>::from(<span class="hljs-string">&quot;Il valore di y è:&quot;</span>);
      <span class="hljs-keyword">let</span> y=<span class="hljs-number">5</span>;

      <span class="hljs-keyword">let</span> handle = thread::spawn( || <span class="hljs-comment">//ERRORE! { </span>
            <span class="hljs-keyword">let</span> stringa = <span class="hljs-built_in">format!</span>(<span class="hljs-string">&quot;{} {}&quot;</span>,x,y);
            <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;{}&quot;</span>,stringa);
      });

    <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;x:{}&quot;</span>,x);
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;y:{}&quot;</span>,y); 
    handle.join().unwrap();
    }
</span></span></foreignObject></svg></code></pre>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="15" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="15" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h5>Thread Safety</h5>
<pre><code class="language-rust"><svg data-marp-fitting="svg" data-marp-fitting-code><foreignObject><span data-marp-fitting-svg-content><span data-marp-fitting-svg-content-wrap><span class="hljs-keyword">use</span> std::thread;
  <span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span></span>(){
      <span class="hljs-keyword">let</span> x=<span class="hljs-built_in">String</span>::from(<span class="hljs-string">&quot;Il valore di y è:&quot;</span>);
      <span class="hljs-keyword">let</span> y=<span class="hljs-number">5</span>;
      <span class="hljs-keyword">let</span> handle = thread::spawn( <span class="hljs-keyword">move</span> ||{ 
            <span class="hljs-keyword">let</span> stringa = <span class="hljs-built_in">format!</span>(<span class="hljs-string">&quot;{} {}&quot;</span>,x,y);
            <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;{}&quot;</span>,stringa);
      });
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;x:{}&quot;</span>,x); <span class="hljs-comment">//Il compilatore segnalerà un errore su questa linea</span>
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;y:{}&quot;</span>,y); 
    handle.join().unwrap();
    }
</span></span></foreignObject></svg></code></pre>
<p>Aggiungiamo la parola <code>move</code> alla definizione della closure... perchè?</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="16" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="16" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h2>Comunicazione fra Thread</h2>
<h4>Scambio di messaggi</h4>
<p>Si utilizza un canale di comunicazione per scambiare dati fra diversi thread. Questo canale è diviso in due metà: un lato trasmette e l'altro riceve.</p>
<h4>Memoria Condivisa</h4>
<p>Thread diversi condividono simultaneamente l'accesso alle stesse locazioni di memoria.</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="17" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="17" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h2>Scambio di Messaggi</h2>
<h3><code>std::sync::mpsc::channel()</code></h3>
<p>Restituisce una tupla  <code>(Sender,Receiver)</code>;<br />
Trasmettiamo dati con il valore <code>Sender</code> tramite il metodo <code>send()</code>, e riceviamo con il <code>Receiver</code> tramite il metodo <code>recv()</code> (bloccante).</p>
<pre><code class="language-rust"><svg data-marp-fitting="svg" data-marp-fitting-code><foreignObject><span data-marp-fitting-svg-content><span data-marp-fitting-svg-content-wrap><span class="hljs-keyword">use</span> std::sync::mpsc;
...
<span class="hljs-keyword">let</span> (produttore,consumatore) = mpsc::channel();
...
</span></span></foreignObject></svg></code></pre>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="18" data-marpit-fragments="2" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="18" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h2>Scambio di Messaggi e Ownership</h2>
<p>I valori <code>Sender</code> e <code>Receiver</code> sono valori di proprietà:</p>
<ul>
<li data-marpit-fragment="1">i thread possono prenderne proprietà implicitamente</li>
<li data-marpit-fragment="2">le variabili fuori scope vengono deallocate automaticamente</li>
</ul>
<p>Inoltre, la funzione <code>send()</code> prende proprietà del valore che spediamo, impedendone quindi l'utilizzo successivamente se il valore appartiene ad un tipo non primitivo.</p>
<pre><code class="language-rust"><svg data-marp-fitting="svg" data-marp-fitting-code><foreignObject><span data-marp-fitting-svg-content><span data-marp-fitting-svg-content-wrap><span class="hljs-keyword">let</span> stringa = <span class="hljs-built_in">String</span>::from(<span class="hljs-string">&quot;Stringa&quot;</span>);
trasmettitore.send(stringa).unwrap();
<span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;{}&quot;</span>,stringa); <span class="hljs-comment">//&lt;--- Errore</span>
</span></span></foreignObject></svg></code></pre>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="19" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="19" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h3>Dal Produttore al Consumatore... (Scambio 1 a 1)</h3>
<pre><code class="language-rust"><svg data-marp-fitting="svg" data-marp-fitting-code><foreignObject><span data-marp-fitting-svg-content><span data-marp-fitting-svg-content-wrap><span class="hljs-keyword">use</span> std::sync::mpsc;
<span class="hljs-keyword">use</span> std::thread;

  <span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span></span>(){
    <span class="hljs-keyword">let</span> (produttore,consumatore) = mpsc::channel();

    thread::spawn( <span class="hljs-keyword">move</span> ||{ 
            <span class="hljs-keyword">let</span> x=<span class="hljs-number">42</span>;
            produttore.send(x).unwrap();
      });
    
    <span class="hljs-keyword">let</span> risultato = consumatore.recv().unwrap();
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;Ricevuto: {}&quot;</span>,risultato);
    }
</span></span></foreignObject></svg></code></pre>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="20" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="20" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h5>...e se avessimo più di un produttore?</h5>
<h6>MPSC = Multiple Producers Single Consumer</h6>
<pre><code class="language-rust"><svg data-marp-fitting="svg" data-marp-fitting-code><foreignObject><span data-marp-fitting-svg-content><span data-marp-fitting-svg-content-wrap>...
<span class="hljs-keyword">let</span> (produttore,consumatore) = mpsc::channel();
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..<span class="hljs-number">5</span>{
        <span class="hljs-keyword">let</span> produttore_locale = mpsc::Sender::clone(&amp;produttore);
        thread::spawn( <span class="hljs-keyword">move</span> ||{ 
            <span class="hljs-keyword">let</span> stringa = <span class="hljs-built_in">format!</span>(<span class="hljs-string">&quot;{}{}&quot;</span>,<span class="hljs-string">&quot;Ciao dal thread n.&quot;</span>,i+<span class="hljs-number">1</span>);
            produttore_locale.send(stringa).unwrap();
        });
    }
    <span class="hljs-built_in">drop</span>(produttore);

    <span class="hljs-keyword">for</span> ricevuto <span class="hljs-keyword">in</span> consumatore{
        <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;{}&quot;</span>,ricevuto);
    }
</span></span></foreignObject></svg></code></pre>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="21" data-marpit-fragments="2" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="21" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h2>Memoria Condivisa</h2>
<p>Rust offre le seguenti primitive per gestire più thread che lavorano sugli stessi dati:</p>
<ul>
<li data-marpit-fragment="1">
<p><code>Mutex&lt;T&gt;</code>(<strong>Mut</strong>ual <strong>Ex</strong>clusion) per sincronizzare gli accessi dei diversi thread</p>
</li>
<li data-marpit-fragment="2">
<p><code>Arc&lt;T&gt;</code>(<strong>A</strong>tomic <strong>R</strong>eference <strong>C</strong>ounter) per gestire l'esistenza di diversi proprietari (i thread) per gli stessi dati</p>
</li>
</ul>
<p>Sia <code>Mutex&lt;T&gt;</code> che <code>Arc&lt;T&gt;</code> sono Smart Pointers.</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="22" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="22" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1><code>Mutex&lt;T&gt;</code></h1>
<p>Struttura che permette l'accesso ai dati in mutua esclusione, tramite chiamata del metodo <code>lock()</code>. La chiamata di questo metodo blocca il thread corrente finchè la risorsa non è disponibile.</p>
<pre><code class="language-rust"><svg data-marp-fitting="svg" data-marp-fitting-code><foreignObject><span data-marp-fitting-svg-content><span data-marp-fitting-svg-content-wrap><span class="hljs-keyword">use</span> std::sync::Mutex;
<span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span></span>() {
    <span class="hljs-keyword">let</span> m = Mutex::new(<span class="hljs-number">5</span>);
    {
        <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut</span> num = m.lock().unwrap();
        *num = <span class="hljs-number">6</span>;
    }
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;m = {:?}&quot;</span>, m);
}
</span></span></foreignObject></svg></code></pre>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="23" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="23" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h3><code>Arc&lt;T&gt;</code></h3>
<p>Versione thread-safe del tipo <code>Rc&lt;T&gt;</code>, che a sua volta permette ad un valore di avere più proprietari, esclusivamente in ambito single-thread. <code>Arc&lt;T&gt;</code> sfrutta operazioni atomiche per garantire la sicurezza in ambito multithread.</p>
<p>L'idea è quella di sfruttare <code>Arc&lt;T&gt;</code> per condividere in maniera totalmente thread-safe un <code>Mutex&lt;T&gt;</code> che sincronizzerà gli accessi dei vari thread.</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="24" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="24" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<pre><code class="language-rust"><svg data-marp-fitting="svg" data-marp-fitting-code><foreignObject><span data-marp-fitting-svg-content><span data-marp-fitting-svg-content-wrap>...
<span class="hljs-keyword">let</span> somma = Arc::new(Mutex::new(<span class="hljs-number">0</span>));
<span class="hljs-keyword">let</span> num_thread = <span class="hljs-number">8</span>;
<span class="hljs-keyword">let</span> <span class="hljs-keyword">mut</span> handles = <span class="hljs-built_in">vec!</span>[];
<span class="hljs-keyword">let</span> thread_division = end/num_thread; <span class="hljs-comment">//Calcola fin dove conterà ogni thread</span>

<span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..num_thread{
    <span class="hljs-keyword">let</span> local_mutex = Arc::clone(&amp;somma);
    <span class="hljs-keyword">let</span> handle = thread::spawn( <span class="hljs-keyword">move</span> || {
            <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut</span> thread_sum = local_mutex.lock().unwrap();
            <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..thread_division{
                *thread_sum +=<span class="hljs-number">1</span>;
            }
        });
    handles.push(handle);
}
<span class="hljs-comment">//Join</span>
<span class="hljs-comment">//Stampa somma</span>
...
</span></span></foreignObject></svg></code></pre>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="25" data-marpit-fragments="3" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="25" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h3>Riassumendo...</h3>
<ul>
<li data-marpit-fragment="1">Rust garantisce (staticamente) programmi multithread thread-safe e privi di data race, semplicemente grazie alle regole di Ownership, Borrowing e Type Checking.</li>
<li data-marpit-fragment="2">Rust non garantisce codice privo di Deadlock e Race Condition</li>
<li data-marpit-fragment="3">Gran parte delle funzionalità legate al multithreading in Rust non fanno parte del linguaggio, ma di librerie, lasciando agli sviluppatori la libertà di implementare le proprie primitive multithread</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-marpit-fragments="4" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="26" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;rayon.png&quot;);"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="26" data-marpit-fragments="4" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="26" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;" data-marpit-advanced-background="content">
<h1>Rayon </h1>
<p>Libreria che offre funzionalità per parallelizzare il codice in maniera semplice, intuitiva ed elegante:</p>
<ul>
<li data-marpit-fragment="1">Iteratori Paralleli</li>
<li data-marpit-fragment="2">ThreadPool Customizzabili</li>
<li data-marpit-fragment="3">Overhead poco significativo</li>
<li data-marpit-fragment="4">Priva di data races</li>
</ul>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section style="color:#C8C9DB;" data-marpit-advanced-background="pseudo" data-marpit-pagination="26" data-marpit-pagination-total="81"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="27" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;rayon_architecture.png&quot;);background-size:75%;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="27" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="27" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;" data-marpit-advanced-background="content">
<h1>Rayon</h1>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section style="color:#C8C9DB;" data-marpit-advanced-background="pseudo" data-marpit-pagination="27" data-marpit-pagination-total="81"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="28" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="28" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<pre><code class="language-rust"><svg data-marp-fitting="svg" data-marp-fitting-code><foreignObject><span data-marp-fitting-svg-content><span data-marp-fitting-svg-content-wrap><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">moltiplicazione_mat</span></span>(m1:&amp;[<span class="hljs-built_in">Vec</span>&lt;<span class="hljs-built_in">u32</span>&gt;], m2:&amp;[<span class="hljs-built_in">Vec</span>&lt;<span class="hljs-built_in">u32</span>&gt;],n:<span class="hljs-built_in">usize</span>) -&gt; <span class="hljs-built_in">Vec</span>&lt;<span class="hljs-built_in">Vec</span>&lt;<span class="hljs-built_in">u32</span>&gt;&gt; {
  (<span class="hljs-number">0</span>..n)
  .map(|i| {
      (<span class="hljs-number">0</span>..n)
          .map(|j| (<span class="hljs-number">0</span>..n)
            .map(|k| m1[i][k] * m2[k][j]).sum()).collect::&lt;<span class="hljs-built_in">Vec</span>&lt;<span class="hljs-built_in">u32</span>&gt;&gt;()
  }).collect::&lt;<span class="hljs-built_in">Vec</span>&lt;<span class="hljs-built_in">Vec</span>&lt;<span class="hljs-built_in">u32</span>&gt;&gt;&gt;()
}
</span></span></foreignObject></svg></code></pre>
<p>Output:<br />
<img src="sequenziale.png" alt="width:600px" style="width:600px;" /></p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="29" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="29" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<pre><code class="language-rust"><svg data-marp-fitting="svg" data-marp-fitting-code><foreignObject><span data-marp-fitting-svg-content><span data-marp-fitting-svg-content-wrap><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">moltiplicazione_mat_parallelo</span></span>(m1:&amp;[<span class="hljs-built_in">Vec</span>&lt;<span class="hljs-built_in">u32</span>&gt;],m2:&amp;[<span class="hljs-built_in">Vec</span>&lt;<span class="hljs-built_in">u32</span>&gt;],n:<span class="hljs-built_in">usize</span>) -&gt; <span class="hljs-built_in">Vec</span>&lt;<span class="hljs-built_in">Vec</span>&lt;<span class="hljs-built_in">u32</span>&gt;&gt; {

  (<span class="hljs-number">0</span>..n).into_par_iter()
  .map(|i| {
      (<span class="hljs-number">0</span>..n)
          .map(|j| (<span class="hljs-number">0</span>..n)
            .map(|k| m1[i][k] * m2[k][j]).sum()).collect::&lt;<span class="hljs-built_in">Vec</span>&lt;<span class="hljs-built_in">u32</span>&gt;&gt;()
  }).collect::&lt;<span class="hljs-built_in">Vec</span>&lt;<span class="hljs-built_in">Vec</span>&lt;<span class="hljs-built_in">u32</span>&gt;&gt;&gt;()
}
</span></span></foreignObject></svg></code></pre>
<p>Output:<br />
<img src="parallelo.png" alt="width:600px" style="width:600px;" /></p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="30" data-marpit-fragments="4" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="30" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>Librerie basate su Rayon</h1>
<ul>
<li data-marpit-fragment="1">
<p>rust-agent-based-models: <a href="https://github.com/facorread/rust-agent-based-models">https://github.com/facorread/rust-agent-based-models</a> :</p>
<ul>
<li data-marpit-fragment="2">Libreria per simulazioni agent-based che sfrutta un'architettura ECS basata sugli iteratori paralleli di Rayon</li>
</ul>
</li>
<li data-marpit-fragment="3">
<p>Amethyst: <a href="https://github.com/amethyst/amethyst">https://github.com/amethyst/amethyst</a> :</p>
<ul>
<li data-marpit-fragment="4">Game Engine basato su un ECS chiamato Specs (<strong>S</strong>pecs <strong>P</strong>arallel <strong>ECS</strong>) (<a href="https://github.com/amethyst/specs">https://github.com/amethyst/specs</a>) che a sua volta sfrutta i threadpool di Rayon per parallelizzare automaticamente la computazione di sistemi.</li>
</ul>
</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="31" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="31" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>Rust e Game Dev</h1>
<p>La situazione attuale di Rust nell'ambiente del game dev si può esprimere tramite la <a href="https://arewegameyet.rs/">citazione</a>:</p>
<h2>&quot;Almost. We have the blocks, bring your own glue.&quot;</h2>
<p>I &quot;blocchi&quot;, ovvero le componenti, esistono e coprono la maggior parte dei bisogni di un developer di videogiochi</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="32" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="32" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<p><img src="rust_gamedev_blocks.png" alt="center" /></p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="33" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="33" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>Cos'è Amethyst?</h1>
<h3>Amethyst è un tentativo nel creare questa &quot;colla&quot;, un game engine che ha scelto come sue fondamenta performance, modularità e un approccio orientato ai dati</h3>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="34" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="34" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h2>Performance</h2>
<p>La scelta di un modello entità-componenti (ECS) come base della logica del gioco rende possibile parallelizzare gran parte di ciò che succede &quot;dietro il sipario&quot;, permettendo allo sviluppatore di preoccuparsi di meno del parallelismo</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="35" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="35" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<p><img src="bunnymark.png" alt="center height:630px" style="height:630px;" /></p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="36" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="36" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h2>Modularità</h2>
<p>I vari moduli usati da Amethyst (rendy come renderer, basato su gfx-hal, rodio per la parte audio...) sono facilmente scambiabili con alternative facilmente integrabili</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="37" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="37" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h2>Data-oriented</h2>

<p>Le entità del gioco sono semplicemente contenitori di dati, le operazioni sono relative a determinati tipi di dati (esempio: spostare una entità da un punto ad un altro) e non hanno bisogno dell'intera mole di dati rispettiva all'entità (la cache viene riempita solo con i dati che vogliamo effettivamente trattare)</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="38" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="38" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>Data-driven</h1>

<p>La logica del gioco è gestita in modo astratto, come una semplice transformazione di dati. Un sistema specifica quali tipi di dati richiede e una volta forniti, li tratta e restituisce il risultato.</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="39" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="39" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>Struttura di Amethyst</h1>
<ul>
<li>Amethyst_animation</li>
<li>Amethyst_assets (da rimuovere in favore di <a href="https://github.com/amethyst/atelier-assets">atelier-assets</a>)</li>
<li>Amethyst_audio (<a href="https://github.com/RustAudio/rodio">Rodio</a>)</li>
<li>Amethyst_input (<a href="https://github.com/rust-windowing/winit">Winit</a>)</li>
<li>Amethyst_gltf (<a href="https://github.com/gltf-rs/gltf">glTF</a>(3d))</li>
<li>Amethyst_network (<a href="https://github.com/amethyst/laminar">laminar</a>)</li>
<li>Amethyst_rendy (<a href="https://github.com/amethyst/rendy">rendy</a>, astrazione di gfx-hal, punto debole)</li>
<li>Amethyst_ui (Capacità UI estremamente basiche)</li>
<li>Amethyst_core (<a href="https://github.com/amethyst/specs">Specs</a>, da scambiare con <a href="https://github.com/TomGillen/legion">Legion</a>)</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="40" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="40" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<p><img src="philosophy_game_engine_engine.png" alt="center" /></p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="41" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="41" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>Concetti di Amethyst</h1>
<ul>
<li>State design pattern</li>
<li>ECS</li>
<li>Resources</li>
<li>World</li>
<li>System</li>
<li>Dispatcher</li>
<li>Event channel</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="42" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="42" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>Confronto con Unity</h1>
<ul>
<li>ECS (gestito diversamente, ma Unity DOTS si avvicina)</li>
<li>Prefabs (structs con PrefabData, istanze = RON files)</li>
<li>Modularità (non presente in Unity, poiché è closed-source)</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="43" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="43" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<iframe src="https://player.vimeo.com/video/332649771?muted=1" width="1100" height="600" frameborder="0" allowfullscreen></iframe>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="44" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="44" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>Estensioni: ImGUI bindings</h1>

<ul>
<li>Amethyst_UI estremamente basilare</li>
<li>Modulo secondario: Amethyst_ImGUI (Dear ImGUI, C/C++ bindings)</li>
<li>Velocità, portabilità, autosufficienza (bloat-free), sviluppo rapido</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="45" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="45" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<p><img src="https://raw.githubusercontent.com/wiki/ocornut/imgui/web/v167/v167-misc.png" alt="height:620px center" style="height:620px;" /></p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="46" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="46" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>Estensioni: specs_physics</h1>
<p>Una delle componenti considerate fondamentali nei game engine odierni è il motore fisico. Amethyst non ne ha uno di base, ma questa crate adatta il motore fisico più popolare e non basato su bindings, nphysics <a href="https://nphysics.org/">https://nphysics.org/</a><br />
<img src="logo_nphysics_full.svg" alt="center" /></p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="47" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="47" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>Estensioni: Georust</h1>
<p>I dati geospaziali (GIS data) sono molto usati nelle simulazioni per la creazione dell'environment.</p>
<p>Rust ha <a href="https://github.com/georust">vari tools</a> in merito, ma manca un tool per la visualizzazione.</p>
<p><img src="georust.png" alt="center" /></p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="48" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="48" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>Pro e contro di Amethyst</h1>
<p>+ Engine altamente parallelo e performante grazie a Specs e Rendy, a sua volta basato su gfx-hal, una API molto simile a Vulkan</p>
<p>+ Free e open-source (MIT/Apache 2.0)</p>
<p>+ Supporto al 2D e al 3D, a glTF e al caricamento di asset in parallelo</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="49" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="49" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<p>- La parte grafica è alquanto limitata, in particolare per la visualizzazione di dati tramite grafici. ImGUI permette la creazione di soli due tipi di grafici: istogrammi e a linee, quindi potrebbe essere necessario l'utilizzo di una libreria dedicata, come <a href="https://github.com/38/plotters">Plotters</a></p>
<p>- La visualizzazione di dati GIS va fatta manualmente e la parte di grafica 2D è limitata al semplice rendering di sprites. Disegnare linee o altre primitive in modo dinamico sembra possibile solo tramite un componente di debug o attraverso amethyst-rendy, ovvero tramite shaders</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="50" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="50" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<p>- Mancanza di features fondamentali e instabilità di quelle esistenti, come ad esempio lo switch del renderer che ha quasi fermato il progetto, o l'inattività di crates fondamentali come quella dedicata alla fisica, oltre al recente cambiamento della crate alla base dell'ECS (<a href="https://csherratt.github.io/blog/posts/specs-and-legion/">Specs-&gt;Legion</a>)</p>

<p>- Ancora molto lavoro da fare per arrivare ad una versione realmente competitiva con gli engine attuali</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="51" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="51" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h2>Esempi</h2>
<pre><code class="language-rust"><svg data-marp-fitting="svg" data-marp-fitting-code><foreignObject><span data-marp-fitting-svg-content><span data-marp-fitting-svg-content-wrap><span class="hljs-keyword">let</span> app_root = application_root_dir()?;
<span class="hljs-keyword">let</span> resources = app_root.join(<span class="hljs-string">&quot;resources&quot;</span>);
<span class="hljs-keyword">let</span> display_config = resources.join(<span class="hljs-string">&quot;display_config.ron&quot;</span>);
<span class="hljs-keyword">let</span> game_data = GameDataBuilder::default()
    .with_bundle(
            RenderingBundle::&lt;DefaultBackend&gt;::new()
                .with_plugin(
                    RenderToWindow::from_config_path(display_config)?
                        .with_clear([<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>]),
                )
                .with_plugin(RenderDebugLines::default())
                .with_plugin(RenderFlat2D::default())
                .with_plugin(RenderImgui::&lt;amethyst::input::StringBindings&gt;::default()),
        )?;
<span class="hljs-keyword">let</span> <span class="hljs-keyword">mut</span> game = Application::new(resources, state::MyState, game_data)?;
game.run();
</span></span></foreignObject></svg></code></pre>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="52" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="52" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h5>Stato</h5>
<pre><code class="language-rust"><svg data-marp-fitting="svg" data-marp-fitting-code><foreignObject><span data-marp-fitting-svg-content><span data-marp-fitting-svg-content-wrap><span class="hljs-keyword">pub</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">MyState</span></span>;
<span class="hljs-keyword">impl</span> SimpleState <span class="hljs-keyword">for</span> MyState {
  <span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">on_start</span></span>(&amp;<span class="hljs-keyword">mut</span> <span class="hljs-keyword">self</span>, data: StateData&lt;<span class="hljs-symbol">&#x27;_</span>, GameData&lt;<span class="hljs-symbol">&#x27;_</span>, <span class="hljs-symbol">&#x27;_</span>&gt;&gt;) {
        <span class="hljs-keyword">let</span> world = data.world;
        <span class="hljs-keyword">let</span> dimensions = (*world.read_resource::&lt;ScreenDimensions&gt;()).clone();
        init_camera(world, &amp;dimensions);
        world.register::&lt;DebugLinesComponent&gt;();
        <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut</span> debug_lines_component: DebugLinesComponent = DebugLinesComponent::new();
        debug_lines_component.add_line(
          Point3::new(<span class="hljs-number">100</span>. + dimensions.width() * <span class="hljs-number">0.5</span>,<span class="hljs-number">100</span>. + dimensions.height() * <span class="hljs-number">0.5</span>,<span class="hljs-number">0</span>.),
          Point3::new(<span class="hljs-number">200</span>. + dimensions.width() * <span class="hljs-number">0.5</span>,<span class="hljs-number">200</span>. + dimensions.height() * <span class="hljs-number">0.5</span>,<span class="hljs-number">0</span>.),
          Srgba::new(<span class="hljs-number">1</span>., <span class="hljs-number">0</span>., <span class="hljs-number">0</span>., <span class="hljs-number">1</span>.));
        world
            .create_entity()
            .with(debug_lines_component)
            .build();
  }
}
</span></span></foreignObject></svg></code></pre>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="53" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="53" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h5>Caricamento di una icona</h5>
<pre><code class="language-rust"><svg data-marp-fitting="svg" data-marp-fitting-code><foreignObject><span data-marp-fitting-svg-content><span data-marp-fitting-svg-content-wrap><span class="hljs-keyword">let</span> loader = world.read_resource::&lt;Loader&gt;();
<span class="hljs-keyword">let</span> texture_handle = {
  <span class="hljs-keyword">let</span> texture_storage = world.read_resource::&lt;AssetStorage&lt;Texture&gt;&gt;();
  loader.load(<span class="hljs-string">&quot;texture/spritesheet.png&quot;</span>, ImageFormat::default(), (),
              &amp;texture_storage,
  )
};
<span class="hljs-keyword">let</span> sprite_sheet_store = world.read_resource::&lt;AssetStorage&lt;SpriteSheet&gt;&gt;();
<span class="hljs-keyword">let</span> sprite_render = SpriteRender::new(
  loader.load(<span class="hljs-string">&quot;texture/spritesheet.ron&quot;</span>, SpriteSheetFormat(texture_handle),
    (), &amp;sprite_sheet_store,
  )
,<span class="hljs-number">0</span>);
world.create_entity()
    .with(sprite_render.clone())
    .build();
</span></span></foreignObject></svg></code></pre>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="54" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="54" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>Altri game engines in Rust</h1>
<p>Purtroppo, in ambito game dev siamo ancora agli stadi iniziali. Però, ci sono molti tentativi atti a produrre un valido game engine che può contrastare i giganti quali Unity e Unreal Engine.</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="55" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="55" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<p><img src="bevy_logo_dark.svg" alt="center" /></p>
<p>In un certo senso è uno spin-off di Amethyst, molto recente (10 agosto 2020) e con obiettivi specifici che possono essere riassunti in due parole: user experience. Si differenzia per la scelta di ottimizzare i tempi di compilazione (famoso punto debole di Rust), l'uso di un renderer diverso (Wgpu, molto più semplice di Rendy) e un focus sull'UI (l'obiettivo è di unificare UI dei giochi con l'UI dell'editor). Attualmente gli sviluppatori di Bevy collaborano con quelli di Amethyst fortunatamente.</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="56" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="56" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<p><img src="ggez-logo-maroon-full.svg" alt="center" /></p>
<p>Il game engine ggez è leggero, cross-platform e si basa sulle ideologie di <a href="https://love2d.org/">LÖVE</a>, in particolare per la sua semplicità. È per lo sviluppo di giochi 2D ed è preferito rispetto ad Amethyst per il mondo 2D.</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="57" data-marpit-fragments="3" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="57" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>ABM: Agent Based Modelling</h1>
<p>Tecnica per realizzare modelli di sistemi complessi, al fine di simularne il comportamento.</p>
<ul>
<li data-marpit-fragment="1">il comportamento di un sistema può essere visto come risultato delle azioni e interazioni di agenti che ne fanno parte</li>
<li data-marpit-fragment="2">approccio bottom-up</li>
<li data-marpit-fragment="3">intuitività</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="58" data-marpit-fragments="3" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="58" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>ABM: Agent Based Model</h1>
<p>Modelli utilizzati per simulare ed osservare il comportamento di un sistema complesso, tramite la simulazione di azioni e interazioni a livello locale.<br />
Le componenti di un <strong>ABM</strong> sono:</p>
<ul>
<li data-marpit-fragment="1">un insieme (anche eterogeneo) di agenti</li>
<li data-marpit-fragment="2">regole decisionali</li>
<li data-marpit-fragment="3">relazioni</li>
</ul>
<p>Applicazioni tipiche: biologia, sociologia, meteorologia, economia...</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="59" data-marpit-fragments="2" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="59" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>Agenti</h1>
<p>Un agente del modello è un'entità <strong>discreta</strong> e <strong>autonoma</strong>.</p>
<ul>
<li data-marpit-fragment="1">assume dei comportamenti in base alle regole decisionali</li>
<li data-marpit-fragment="2">interagisce con altri agenti, influenzandone i comportamenti</li>
</ul>
<p>Molti sistemi complessi possono essere modellati con un approccio bottom-up:<br />
l'interazione fra i singoli agenti dà luogo a fenomeni complessi, detti <strong>comportamenti emergenti</strong>.</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-marpit-fragments="4" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="60" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;--marpit-advanced-background-split:35%;" data-marpit-advanced-background="background" data-marpit-advanced-background-split="right"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;https://repository-images.githubusercontent.com/258305543/28971980-92d2-11ea-8a66-4d0d91c0e790&quot;);"></figure></div></section></foreignObject><foreignObject width="65%" height="720"><section id="60" data-marpit-fragments="4" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="60" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;--marpit-advanced-background-split:35%;" data-marpit-advanced-background="content" data-marpit-advanced-background-split="right">
<h1>Il modello Boids (Birds)</h1>
<p>Modello costruito per simulare il volo di stormi di uccelli.</p>
<ul>
<li data-marpit-fragment="1">realizzato nel 1986, da Craig Reynolds</li>
<li data-marpit-fragment="2">ogni agente si muove in uno spazio bidimensionale</li>
<li data-marpit-fragment="3">ogni agente tiene conto della posizione dei suoi &quot;vicini&quot;</li>
<li data-marpit-fragment="4">tre regole: <strong>separazione, allineamento, coesione</strong></li>
</ul>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section style="color:#C8C9DB;" data-marpit-advanced-background="pseudo" data-marpit-pagination="60" data-marpit-pagination-total="81"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="61" data-marpit-fragments="3" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="61" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>ABM e OOP</h1>
<p>L'intuitività degli ABM si sposa naturalmente con il paradigma OOP.<br />
Un'implementazione di base potrebbe prevedere:</p>
<ul>
<li data-marpit-fragment="1">una classe Agent che rappresenta il concetto di agente del modello</li>
<li data-marpit-fragment="2">una classe Model</li>
<li data-marpit-fragment="3">una classe che rappresenta l'ambiente in cui esistono gli agenti</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="62" data-marpit-fragments="3" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="62" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>Problemi negli ABM</h1>
<ul>
<li data-marpit-fragment="1">Astrazione vs Realismo</li>
<li data-marpit-fragment="2">Efficienza e ottimizzazione</li>
<li data-marpit-fragment="3">Sincronizzazione</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="63" data-marpit-fragments="2" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="63" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>RustAB</h1>
<p>Libreria ready-to-use per simulazioni agent-based realizzata in Rust:</p>
<ul>
<li data-marpit-fragment="1">
<p>ispirata a MASON (Java)</p>
</li>
<li data-marpit-fragment="2">
<p>prestazioni migliori rispetto a librerie più diffuse (MASON,NetLogo)</p>
</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="64" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="64" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h2>Architettura RustAB</h2>
<h4>Agent</h4>
<p>Trait implementato dalle struct che vogliamo usare come agenti. Fornisce un metodo step() che racchiude la logica dell'agente.</p>
<h4>AgentImpl</h4>
<p>Struct che funziona da wrapper per gli agenti. Fornisce questi ultimi di un id e un valore booleano che rappresenta la modalità di scheduling fra due possibili scelte.</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="65" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="65" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h4>Location2D</h4>
<p>Trait implementabile da qualsiasi struct che ha bisogno di esporre una posizione(intesa come coppia di coordinate) in uno spazio bidimensionale. È richiesta l'implementazione di getter e setter per le coordinate.</p>
<h4>Field2D</h4>
<p>Matrice che permette di modellare facilmente le interazioni degli agenti con i rispettivi vicini, in uno spazio bidimensionale.</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="66" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="66" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h4>Schedule</h4>
<p>Oggetto che gestisce gli eventi che hanno luogo ad ogni step della simulazione. Funziona come una coda a priorità in cui  gli agenti vengono schedulati e ordinati volta per volta, in base all'istante di scheduling e ad un valore che rappresenta la priorità.</p>
<h4>Priority</h4>
<p>Struttura che gestisce la priorità di un agente nello scheduling, offre metodi di confronto per stabilire l'ordinamento degli agenti nella coda a priorità.</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="67" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="67" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h4>State</h4>
<p>Struttura che rappresenta lo stato globale della simulazione, contenente tutti i campi e le variabili.<br />
Deve essere accessibile dal corpo della funzione step() degli agenti, per questo motivo è definita come una variabile globale, il cui accesso è regolato da un Mutex.</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="68" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="68" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>Perché visualizzare queste simulazioni?</h1>
<p>L'obiettivo delle simulazioni è quello di ricreare un sistema complesso a partire da singole unità (agenti). Tramite la visualizzazione di tale simulazione, possiamo osservare una valida riproduzione di tale sistema, e notare particolarità dell'intero sistema o di gruppi di agenti.</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="69" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="69" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<p>Inoltre, la visualizzazione rende anche la simulazione più semplice da capire, quindi più effettiva, associando alle sue componenti dei simboli con un forte significato.</p>
<p><img src="masonflockers.gif" alt="width:400px" style="width:400px;" /> <img src="masonantforaging.gif" alt="width:400px" style="width:400px;" /></p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="70" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="70" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>Rust AB Visualization</h1>
<p>Lo sviluppo del framework atto alla visualizzazione può seguire un processo simile a quello implementato da MASON, adattandolo però all'ambiente basato su entità e componenti.</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="71" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="71" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h2>Perché Amethyst? (<a href="https://github.com/Carbonhell/amethyst-bunnymark">Amethyst</a> vs <a href="https://github.com/Carbonhell/MASONBunnyMark">MASON</a>)</h2>
<iframe style="width:100%; margin: 0 auto" height="550" src="https://embed.chartblocks.com/1.0/?c=5f61df8d3ba0f6b00d73a254&t=14707d8ecdf0fd4" frameBorder="0"></iframe>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="72" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="72" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<p><img src="masonbunnymark.png" alt="center width:1000px" style="width:1000px;" /></p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="73" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="73" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<p><img src="bunnymark150klaptop.png" alt="center width:1000px" style="width:1000px;" /></p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="74" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="74" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>Architettura</h1>
<p>L'idea di base è quella di usare questo framework come plug-in con una interfaccia ben definita per gestire i vari tipi di eventi della simulazione (step, interazione fra agenti...)</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="75" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="75" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>Requisiti lato modellatore</h1>
<p>Lo sviluppatore del modello aggiunge delle specifiche chiamate nel codice del suo modello, specificando in che modo le varie componenti vanno visualizzate. Inoltre, la comunicazione fra simulazione e visualizzazione va resa bidirezionale ma ben separata: tramite un UI, deve essere possibile lanciare degli eventi con dati specifici per aggiornare i dati della simulazione.</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="76" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="76" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>Esempi esistenti di simulazioni agent based implementate in Rust</h1>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="77" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="77" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h4>A/B Street (<a href="https://github.com/dabreegster/abstreet">https://github.com/dabreegster/abstreet</a>)</h4>
<p><img src="https://github.com/dabreegster/abstreet/raw/master/book/exploring_traffic.gif" alt="" /></p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="78" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="78" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>A/B Street: peculiarità</h1>
<ul>
<li>Gioco realizzato per permettere a chiunque di risolvere problemi relativi al traffico di Seattle</li>
<li>Chiaro esempio di una simulazione agent-based sviluppata in Rust, altamente parallela e di ottima qualità</li>
<li>Possibile modello da seguire per un framework generalizzato che permette la simulazione anche di modelli di altre categorie</li>
<li>Mappa creata a partire da dati GIS (quindi una simile integrazione è possibile, ma non semplice)</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="79" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="79" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>EpiRust: (<a href="https://www.researchgate.net/profile/Jayanta_Kshirsagar/publication/343987917_EasyChair_Preprint_EPIRUST_TOWARDS_A_FRAMEWORK_FOR_LARGE-SCALE_AGENT-BASED_EPIDEMIOLOGICAL_SIMULATIONS_USING_RUST_LANGUAGE_EpiRust_Towards_A_Framework_For_Large-scale_Agent-based_Epidemiological_Simul/links/5f4cacbc299bf13c506412bf/EasyChair-Preprint-EPIRUST-TOWARDS-A-FRAMEWORK-FOR-LARGE-SCALE-AGENT-BASED-EPIDEMIOLOGICAL-SIMULATIONS-USING-RUST-LANGUAGE-EpiRust-Towards-A-Framework-For-Large-scale-Agent-based-Epidemiological-Simul.pdf">Abstract</a>)</h1>
<p><a href="https://github.com/thoughtworks/epirust/tree/sims2020">https://github.com/thoughtworks/epirust/tree/sims2020</a></p>
<ul>
<li>Modello ad agenti di tipo epidemiologico sviluppato interamente in Rust a causa delle scarse prestazioni con altri framework</li>
<li>Gli <a href="https://github.com/thoughtworks/epirust/blob/sims2020/engine/src/agent.rs#L71">agenti</a> sono i cittadini che si spostano all'interno della città (una griglia), provocando o subendo una infenzione in base alla probabilità di contatto derivante dagli spostamenti</li>
<li>Uso di <a href="https://kafka.apache.org/">Apache Kafka</a>, una piattaforma distribuita per la comunicazione client (visualizzazione)-server (engine)</li>
<li>Visualizzazione implementata tramite <a href="https://it.reactjs.org/">React SPA</a></li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="80" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="80" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>Obiettivi futuri</h1>
<h1>Breve termine</h1>
<ul>
<li>
<p>Implementazione iniziale POC tramite le librerie scelte per visualizzare una semplice simulazione (Flockers)</p>
</li>
<li>
<p>Creazione di un semplice inspector per le operazioni base sulla simulazione (start/stop/pause, modifica attributi di agenti, modifica attributi globali)</p>
</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="81" data-background-color="#3B2E2A" data-color="#C8C9DB" data-paginate="true" data-theme="gaia" data-marpit-pagination="81" data-marpit-pagination-total="81" style="--background-color:#3B2E2A;--color:#C8C9DB;--paginate:true;--theme:gaia;color:#C8C9DB;background-color:#3B2E2A;background-image:none;">
<h1>Lungo termine</h1>
<ul>
<li>Creazione di adapter specifici per framework esistenti (MASON, NetLogo) per permettere la visualizzazione di modelli già esistenti e creati ad-hoc per questi framework (tramite JNA: <a href="https://github.com/java-native-access/jna">https://github.com/java-native-access/jna</a>, <a href="https://github.com/drrb/java-rust-example">https://github.com/drrb/java-rust-example</a>)</li>
</ul>
</section>
<script>!function(){"use strict";let t=void 0;function e(e){let r=!1;Array.from(document.querySelectorAll("svg[data-marpit-svg]"),i=>{const{children:o,clientHeight:n,clientWidth:a,viewBox:s}=i;i.style.transform||(i.style.transform="translateZ(0)");const l=e||window!==window.parent&&window.parent.marpitSVGPolyfillZoomFactor||i.currentScale||1;t!==l&&(t=l,r=l);const c=s.baseVal.width/l,d=s.baseVal.height/l,p=Math.min(n/d,a/c);for(let t=0;t<o.length;t+=1){const{style:e}=o[t].firstChild;e.position||(e.position="fixed"),e.transformOrigin||(e.transformOrigin="0 0"),e.transform=`scale(${p}) translateZ(0)`}}),!1!==r&&Object.defineProperty(window,"marpitSVGPolyfillZoomFactor",{configurable:!0,value:r})}const r=(t,e,r)=>{if(t.getAttribute(e)!==r)return t.setAttribute(e,r),!0};function i(t=!0){for(const t of"Apple Computer, Inc."===navigator.vendor?[e]:[])t();Array.from(document.querySelectorAll('svg[data-marp-fitting="svg"]'),t=>{var e;const i=t.firstChild,o=i.firstChild,{scrollWidth:n,scrollHeight:a}=o;let s,l=1;if(t.hasAttribute("data-marp-fitting-code")&&(s=null===(e=t.parentElement)||void 0===e?void 0:e.parentElement),t.hasAttribute("data-marp-fitting-math")&&(s=t.parentElement),s){const t=getComputedStyle(s),e=Math.ceil(s.clientWidth-parseFloat(t.paddingLeft||"0")-parseFloat(t.paddingRight||"0"));e&&(l=e)}const c=Math.max(n,l),d=Math.max(a,1),p=`0 0 ${c} ${d}`;r(i,"width",""+c),r(i,"height",""+d),r(t,"preserveAspectRatio",getComputedStyle(t).getPropertyValue("--preserve-aspect-ratio")||"xMinYMin meet"),r(t,"viewBox",p)&&t.classList.toggle("__reflow__")}),t&&window.requestAnimationFrame(()=>i(t))}!function(){if("undefined"==typeof window)throw new Error("Marp Core's browser script is valid only in browser context.");window.marpCoreBrowserScript?console.warn("Marp Core's browser script has already executed."):(Object.defineProperty(window,"marpCoreBrowserScript",{value:!0}),i())}()}();
</script></foreignObject></svg></div><div class="bespoke-marp-note" data-index="1" tabindex="0"><p>L'obiettivo delle simulazioni agent-based è di trovare delle caratteristiche (regole) del sistema interessato in base al comportamento delle singole unità (agenti) e come interagiscono fra di loro.</p></div><div class="bespoke-marp-note" data-index="9" tabindex="0"><p>Inizio parte Multithreading</p></div><div class="bespoke-marp-note" data-index="36" tabindex="0"><p>Esempio: componenti di un ECS e la loro posizione nella memoria, ottimizzata per la cache locality</p></div><div class="bespoke-marp-note" data-index="37" tabindex="0"><p>Logica implementata in modo generico per trattare i vari tipi di dati</p></div><div class="bespoke-marp-note" data-index="38" tabindex="0"><p>Viral16/07/2020
I didn't create a list of rendy mistakes.
In short, rendy has terrible usability.
It inherits generic parameter from gfx instead, while it should hide it.
It has very-high level abstraction - frame-graph. And very low-level in every other aspect.
Focusing on the frame-graph was a mistake as well. It should be natural abstraction over graphics API. But in rendy API usability was sacrificed for frame-graph.
I had had no experience writing graphics applications (not an expert today, but hey, at least I've made a few simple ones) and frame-graph turned out half-broken. And so we created another abstraction over frame-graph in amethyst_rendy. Which still puzzles amethyst users.
As a result almost no one wants to touch rendering in amethyst.</p></div><div class="bespoke-marp-note" data-index="40" tabindex="0"><p>- State design pattern (basato su un automa a pila))
- ECS (entità le cui caratteristiche dipendono dalle componenti che le compongono)
- Resources (container di dati indipendenti)
- World (container di resources)
- System (contenente la logica del gioco eseguita ad ogni iterazione del game loop, in parallelo se possibile)
- Dispatcher (praticamente gli scheduler dei systems. Rispettano le regole della gestione della memoria di rust, massimizzando il parallelismo: execution stages)
- Event channel (coda di eventi broadcast per la comunicazione tra sistemi di tipo 1-N)</p></div><div class="bespoke-marp-note" data-index="41" tabindex="0"><p>- Entrambi gli engines sono basati su un modello ECS, anche se nel dettaglio vengono gestiti in modo diverso (Unity: funzionalità implementate dal singolo componente, MonoBehaviour) (Amethyst: funzionalità implementare su una categoria di componenti, System)
- Prefabs (Amethyst: structs che implementano il trait PrefabData, le singole istanze sono ron files che non hanno bisogno di ricompilazione)

---

- Unity forza le proprie regole sullo sviluppatore, il quale può specificare la logica del gioco o altro, ma non può scendere nei dettagli, poiché è un game engine closed source.
Amethyst permette all'utente di cambiare i pezzi che lo compongono, dando più potere ad esso, ma da ciò derivano anche più responsabilità e più pericoli.</p></div><div class="bespoke-marp-note" data-index="43" tabindex="0"><p>La crate dedicata all'UI è molto basilare, per questo motivo è stata realizzata un'altra crate, amethyst_imgui, per poter creare un UI basato su Dear ImGUI (C/C++), con dei binding appositi per rendere safe l'utilizzo.
## Perché Dear ImGUI?
Le caratteristiche di questa libreria GUI sono: velocità, portabilità e autosufficienza (bloat-free), assieme ad uno sviluppo veloce.</p></div><div class="bespoke-marp-note" data-index="46" tabindex="0"><p>Nei framework moderni per le simulazioni ad agenti, è presente il supporto ai dati geospaziali (GIS data) per caricare l'ambiente nel quale avviene la simulazione. In Rust, esiste il supporto per le primitive geospaziali (punti, linee, poligoni), assieme ad altre librerie di supporto, ma non esiste una libreria per la visualizzazione di tali dati.</p></div><div class="bespoke-marp-note" data-index="49" tabindex="0"><p>\- L'unico adattatore per un motore fisico esistente (specs-physics) sembra essere inattivo, la causa potrebbe essere lo switch dell'ECS. (Ultimo commit: 4 maggio, dipendenza nphysics vecchia di 3 versioni)</p></div><div class="bespoke-marp-note" data-index="56" tabindex="0"><p>Inizio parte ABM</p></div><div class="bespoke-marp-note" data-index="78" tabindex="0"><p>https://github.com/fede1024/rust-rdkafka
Apache kafka potrebbe essere usato per gestire la comunicazione con il mio framework di visualizzazione, in modo da renderla distribuita?
React SPA: react ma con una singola pagina che viene ricostruita (single page application)</p></div><script>!function(){"use strict";var e=function(e,t){var n,r=1===(e.parent||e).nodeType?e.parent||e:document.querySelector(e.parent||e),a=[].filter.call("string"==typeof e.slides?r.querySelectorAll(e.slides):e.slides||r.children,(function(e){return"SCRIPT"!==e.nodeName})),s={},i=function(e,t){return(t=t||{}).index=a.indexOf(e),t.slide=e,t},o=function(e,t){s[e]=(s[e]||[]).filter((function(e){return e!==t}))},l=function(e,t){return(s[e]||[]).reduce((function(e,n){return e&&!1!==n(t)}),!0)},c=function(e,t){a[e]&&(n&&l("deactivate",i(n,t)),n=a[e],l("activate",i(n,t)))},d=function(e,t){var r=a.indexOf(n)+e;l(e>0?"next":"prev",i(n,t))&&c(r,t)},u={off:o,on:function(e,t){return(s[e]||(s[e]=[])).push(t),o.bind(null,e,t)},fire:l,slide:function(e,t){if(!arguments.length)return a.indexOf(n);l("slide",i(a[e],t))&&c(e,t)},next:d.bind(null,1),prev:d.bind(null,-1),parent:r,slides:a,destroy:function(e){l("destroy",i(n,e)),s={}}};return(t||[]).forEach((function(e){e(u)})),n||c(0),u};function t(e){e.parent.classList.add("bespoke-marp-parent"),e.slides.forEach(e=>e.classList.add("bespoke-marp-slide")),e.on("activate",t=>{const n=t.slide,r=!n.classList.contains("bespoke-marp-active");e.slides.forEach(e=>{e.classList.remove("bespoke-marp-active"),e.setAttribute("aria-hidden","true")}),n.classList.add("bespoke-marp-active"),n.removeAttribute("aria-hidden"),r&&(n.classList.add("bespoke-marp-active-ready"),document.body.clientHeight,n.classList.remove("bespoke-marp-active-ready"))})}function n(e){let t=0,n=0;Object.defineProperty(e,"fragments",{enumerable:!0,value:e.slides.map(e=>[null,...e.querySelectorAll("[data-marpit-fragment]")])});const r=r=>void 0!==e.fragments[t][n+r],a=(r,a)=>{t=r,n=a,e.fragments.forEach((e,t)=>{e.forEach((e,n)=>{if(null==e)return;const s=t<r||t===r&&n<=a;e.setAttribute("data-bespoke-marp-fragment",s?"active":"inactive"),t===r&&n===a?e.setAttribute("data-bespoke-marp-current-fragment","current"):e.removeAttribute("data-bespoke-marp-current-fragment")})}),e.fragmentIndex=a;const s={slide:e.slides[r],index:r,fragments:e.fragments[r],fragmentIndex:a};e.fire("fragment",s)};e.on("next",({fragment:s=!0})=>{if(s){if(r(1))return a(t,n+1),!1;const s=t+1;e.fragments[s]&&a(s,0)}else{const r=e.fragments[t].length;if(n+1<r)return a(t,r-1),!1;const s=e.fragments[t+1];s&&a(t+1,s.length-1)}}),e.on("prev",({fragment:s=!0})=>{if(r(-1)&&s)return a(t,n-1),!1;const i=t-1;e.fragments[i]&&a(i,e.fragments[i].length-1)}),e.on("slide",({index:t,fragment:n})=>{let r=0;if(void 0!==n){const a=e.fragments[t];if(a){const{length:e}=a;r=-1===n?e-1:Math.min(Math.max(n,0),e-1)}}a(t,r)}),a(0,0)}var r=function(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}((function(e){
/*!
* screenfull
* v5.0.2 - 2020-02-13
* (c) Sindre Sorhus; MIT License
*/
!function(){var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=e.exports,r=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,a=n.length,s={};r<a;r++)if((e=n[r])&&e[1]in t){for(r=0;r<e.length;r++)s[n[0][r]]=e[r];return s}return!1}(),a={change:r.fullscreenchange,error:r.fullscreenerror},s={request:function(e){return new Promise(function(n,a){var s=function(){this.off("change",s),n()}.bind(this);this.on("change",s);var i=(e=e||t.documentElement)[r.requestFullscreen]();i instanceof Promise&&i.then(s).catch(a)}.bind(this))},exit:function(){return new Promise(function(e,n){if(this.isFullscreen){var a=function(){this.off("change",a),e()}.bind(this);this.on("change",a);var s=t[r.exitFullscreen]();s instanceof Promise&&s.then(a).catch(n)}else e()}.bind(this))},toggle:function(e){return this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var r=a[e];r&&t.addEventListener(r,n,!1)},off:function(e,n){var r=a[e];r&&t.removeEventListener(r,n,!1)},raw:r};r?(Object.defineProperties(s,{isFullscreen:{get:function(){return Boolean(t[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(t[r.fullscreenEnabled])}}}),n?e.exports=s:window.screenfull=s):n?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()}));function a(e){e.fullscreen=()=>{r.isEnabled&&r.toggle(document.body)},document.addEventListener("keydown",t=>{70!==t.which&&122!==t.which||t.altKey||t.ctrlKey||t.metaKey||!r.isEnabled||(e.fullscreen(),t.preventDefault())})}function s(e=2e3){return t=>{let n;function r(){n&&clearTimeout(n),n=setTimeout(()=>{t.parent.classList.add("bespoke-marp-inactive"),t.fire("marp-inactive")},e),t.parent.classList.contains("bespoke-marp-inactive")&&(t.parent.classList.remove("bespoke-marp-inactive"),t.fire("marp-active"))}document.addEventListener("mousedown",r),document.addEventListener("mousemove",r),document.addEventListener("touchend",r),setTimeout(r,0)}}const i=["AUDIO","BUTTON","INPUT","SELECT","TEXTAREA","VIDEO"];function o(e){e.parent.addEventListener("keydown",e=>{if(!e.target)return;const t=e.target;(i.includes(t.nodeName)||"true"===t.contentEditable)&&e.stopPropagation()})}function l(e){window.addEventListener("load",()=>{for(const t of e.slides){const e=t.querySelector("[data-marp-fitting]")?"":"hideable";t.setAttribute("data-bespoke-marp-load",e)}})}var c;function d({interval:e=200}={}){return t=>{document.addEventListener("keydown",e=>{if(32===e.which&&e.shiftKey)t.prev();else if(33===e.which||37===e.which||38===e.which)t.prev({fragment:!e.shiftKey});else if(32!==e.which||e.shiftKey)if(34===e.which||39===e.which||40===e.which)t.next({fragment:!e.shiftKey});else if(35===e.which)t.slide(t.slides.length-1,{fragment:-1});else{if(36!==e.which)return;t.slide(0)}else t.next();e.preventDefault()});let n,r,a=0;t.parent.addEventListener("wheel",s=>{let i=!1;const o=(e,t)=>{e&&(i=i||function(e,t){return function(e,t){const n=t===c.X?"Width":"Height";return e["client"+n]<e["scroll"+n]}(e,t)&&function(e,t){const{overflow:n}=e,r=e["overflow"+t];return"auto"===n||"scroll"===n||"auto"===r||"scroll"===r}(getComputedStyle(e),t)}(e,t)),(null==e?void 0:e.parentElement)&&o(e.parentElement,t)};if(0!==s.deltaX&&o(s.target,c.X),0!==s.deltaY&&o(s.target,c.Y),i)return;s.preventDefault(),r&&clearTimeout(r),r=setTimeout(()=>{n=0},e);const l=Date.now()-a<e,d=Math.sqrt(Math.pow(s.deltaX,2)+Math.pow(s.deltaY,2)),u=d<=n;if(n=d,l||u)return;let f;(s.deltaX>0||s.deltaY>0)&&(f="next"),(s.deltaX<0||s.deltaY<0)&&(f="prev"),f&&(t[f](),a=Date.now())})}}!function(e){e.X="X",e.Y="Y"}(c||(c={}));const u=(...e)=>history.replaceState(...e);var f;!function(e){e.Normal="",e.Presenter="presenter",e.Next="next"}(f||(f={}));const m=(e,{protocol:t,host:n,pathname:r,hash:a}=location)=>{const s=e.toString();return`${t}//${n}${r}${s?"?":""}${s}${a}`},p=()=>{switch(document.body.getAttribute("data-bespoke-view")){case f.Normal:return f.Normal;case f.Presenter:return f.Presenter;case f.Next:return f.Next;default:throw new Error("View mode is not assigned.")}},h=e=>new URLSearchParams(location.search).get(e),g=(e,t={})=>{const n=Object.assign({location:location,setter:u},t),r=new URLSearchParams(n.location.search);for(const t of Object.keys(e)){const n=e[t];"string"==typeof n?r.set(t,n):r.delete(t)}try{n.setter(null,document.title,m(r,n.location))}catch(e){console.error(e)}},v={available:(()=>{try{return localStorage.setItem("bespoke-marp","bespoke-marp"),localStorage.removeItem("bespoke-marp"),!0}catch(e){return console.warn("Warning: Using localStorage is restricted in the current host so some features may not work."),!1}})(),get:e=>{try{return localStorage.getItem(e)}catch(e){return null}},set:(e,t)=>{try{return localStorage.setItem(e,t),!0}catch(e){return!1}},remove:e=>{try{return localStorage.removeItem(e),!0}catch(e){return!1}}};function b(e=".bespoke-marp-osc"){const t=document.querySelector(e);if(!t)return()=>{};const n=(e,n)=>{t.querySelectorAll(`[data-bespoke-marp-osc=${JSON.stringify(e)}]`).forEach(n)};return r.isEnabled||n("fullscreen",e=>e.style.display="none"),v.available||n("presenter",e=>{e.disabled=!0,e.title="Presenter view is disabled due to restricted localStorage."}),e=>{t.addEventListener("click",t=>{if(t.target instanceof HTMLElement){const{bespokeMarpOsc:n}=t.target.dataset;switch(n&&t.target.blur(),n){case"next":e.next({fragment:!t.shiftKey});break;case"prev":e.prev({fragment:!t.shiftKey});break;case"fullscreen":"function"==typeof e.fullscreen&&r.isEnabled&&e.fullscreen();break;case"presenter":e.openPresenterView()}}}),e.parent.appendChild(t),e.on("activate",({index:t})=>{n("page",n=>n.textContent=`Page ${t+1} of ${e.slides.length}`)}),e.on("fragment",({index:t,fragments:r,fragmentIndex:a})=>{n("prev",e=>e.disabled=0===t&&0===a),n("next",n=>n.disabled=t===e.slides.length-1&&a===r.length-1)}),e.on("marp-active",()=>t.removeAttribute("aria-hidden")),e.on("marp-inactive",()=>t.setAttribute("aria-hidden","true")),r.isEnabled&&r.onchange(()=>n("fullscreen",e=>e.classList.toggle("exit",r.isEnabled&&r.isFullscreen)))}}function w(){const e=Math.max(Math.floor(.85*window.innerWidth),640),t=Math.max(Math.floor(.85*window.innerHeight),360);return window.open(this.presenterUrl,"bespoke-marp-presenter-"+this.syncKey,`width=${e},height=${t},menubar=no,toolbar=no`)}function y(){const e=new URLSearchParams(location.search);return e.set("view","presenter"),e.set("sync",this.syncKey),m(e)}var x=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];let E=e=>String(e).replace(/[&<>"']/g,e=>`&${k[e]};`),k={"&":"amp","<":"lt",">":"gt",'"':"quot","'":"apos"},L="dangerouslySetInnerHTML",S={className:"class",htmlFor:"for"},I={};function P(e,t){let n=[],r="";t=t||{};for(let e=arguments.length;e-- >2;)n.push(arguments[e]);if("function"==typeof e)return t.children=n.reverse(),e(t);if(e){if(r+="<"+e,t)for(let e in t)!1!==t[e]&&null!=t[e]&&e!==L&&(r+=` ${S[e]?S[e]:E(e)}="${E(t[e])}"`);r+=">"}if(-1===x.indexOf(e)){if(t[L])r+=t[L].__html;else for(;n.length;){let e=n.pop();if(e)if(e.pop)for(let t=e.length;t--;)n.push(e[t]);else r+=!0===I[e]?e:E(e)}r+=e?`</${e}>`:""}return I[r]=!0,r}const M=({children:e})=>P(null,null,...e),N="bespoke-marp-presenter-container",F="bespoke-marp-presenter-next",O="bespoke-marp-presenter-next-container",q="bespoke-marp-presenter-note-container",C="bespoke-marp-presenter-info-container",T="bespoke-marp-presenter-info-page",A="bespoke-marp-presenter-info-page-text",K="bespoke-marp-presenter-info-page-prev",$="bespoke-marp-presenter-info-page-next",j="bespoke-marp-presenter-info-time",D="bespoke-marp-presenter-info-timer";function R(e){const{title:t}=document;document.title="[Presenter view]"+(t?" - "+t:"");const n={},r=e=>(n[e]=n[e]||document.querySelector("."+e),n[e]);document.body.appendChild((e=>{const t=document.createElement("div");return t.className=N,t.appendChild(e),t.insertAdjacentHTML("beforeend",P(M,null,P("div",{class:O},P("iframe",{class:F,src:"?view=next"})),P("div",{class:q}),P("div",{class:C},P("div",{class:T},P("button",{class:K,tabindex:"-1",title:"Previous"},"Previous"),P("span",{class:A}),P("button",{class:$,tabindex:"-1",title:"Next"},"Next")),P("time",{class:j,title:"Current time"}),P("div",{class:D})))),t})(e.parent)),(e=>{r(O).addEventListener("click",()=>e.next());const t=r(F),n=(a=t,(e,t)=>{var n;return null===(n=a.contentWindow)||void 0===n?void 0:n.postMessage(`navigate:${e},${t}`,"null"===window.origin?"*":window.origin)});var a;t.addEventListener("load",()=>{r(O).classList.add("active"),n(e.slide(),e.fragmentIndex),e.on("fragment",({index:e,fragmentIndex:t})=>n(e,t))});const s=document.querySelectorAll(".bespoke-marp-note");s.forEach(e=>{e.addEventListener("keydown",e=>e.stopPropagation()),r(q).appendChild(e)}),e.on("activate",()=>s.forEach(t=>t.classList.toggle("active",t.dataset.index==e.slide()))),e.on("activate",({index:t})=>{r(A).textContent=`${t+1} / ${e.slides.length}`});const i=r(K),o=r($);i.addEventListener("click",t=>{i.blur(),e.prev({fragment:!t.shiftKey})}),o.addEventListener("click",t=>{o.blur(),e.next({fragment:!t.shiftKey})}),e.on("fragment",({index:t,fragments:n,fragmentIndex:r})=>{i.disabled=0===t&&0===r,o.disabled=t===e.slides.length-1&&r===n.length-1});const l=()=>r(j).textContent=(new Date).toLocaleTimeString();l(),setInterval(l,250)})(e)}function U(e){const t=p();return t===f.Next&&e.appendChild(document.createElement("span")),e=>{t===f.Normal&&function(e){if(!(e=>e.syncKey&&"string"==typeof e.syncKey)(e))throw new Error("The current instance of Bespoke.js is invalid for Marp bespoke presenter plugin.");Object.defineProperties(e,{openPresenterView:{enumerable:!0,value:w},presenterUrl:{enumerable:!0,get:y}}),v.available&&document.addEventListener("keydown",t=>{80!==t.which||t.altKey||t.ctrlKey||t.metaKey||(t.preventDefault(),e.openPresenterView())})}(e),t===f.Presenter&&R(e),t===f.Next&&function(e){const t=t=>{if(t.origin!==window.origin)return;const[n,r]=t.data.split(":");if("navigate"===n){const[t,n]=r.split(",");let a=Number.parseInt(t,10),s=Number.parseInt(n,10)+1;s>=e.fragments[a].length&&(a+=1,s=0),e.slide(a,{fragment:s})}};window.addEventListener("message",t),e.on("destroy",()=>window.removeEventListener("message",t))}(e)}}function V(e){e.on("activate",t=>{document.querySelectorAll(".bespoke-progress-bar").forEach(n=>{n.style.flexBasis=100*t.index/(e.slides.length-1)+"%"})})}const X=e=>{const t=Number.parseInt(e,10);return Number.isNaN(t)?null:t};function Y(e={}){const t=Object.assign({history:!0},e);return e=>{let n=!0;const r=e=>{const t=n;try{return n=!0,e()}finally{n=t}},a=(t={fragment:!0})=>{((t,n)=>{const{fragments:r,slides:a}=e,s=Math.max(0,Math.min(t,a.length-1)),i=Math.max(0,Math.min(n||0,r[s].length-1));s===e.slide()&&i===e.fragmentIndex||e.slide(s,{fragment:i})})((X(location.hash.slice(1))||1)-1,t.fragment?X(h("f")||""):null)};e.on("fragment",({index:e,fragmentIndex:r})=>{n||g({f:0===r||r.toString()},{location:Object.assign(Object.assign({},location),{hash:"#"+(e+1)}),setter:(...e)=>t.history?history.pushState(...e):history.replaceState(...e)})}),setTimeout(()=>{a(),window.addEventListener("hashchange",()=>r(()=>{a({fragment:!1}),g({f:void 0})})),window.addEventListener("popstate",()=>{n||r(()=>a())}),n=!1},0)}}function B(e={}){const t=e.key||((e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let r=63&n[e];t+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return t})(),n="bespoke-marp-sync-"+t,r=()=>{const e=v.get(n);return e?JSON.parse(e):Object.create(null)},a=e=>{const t=r(),a=Object.assign(Object.assign({},t),e(t));return v.set(n,JSON.stringify(a)),a};return a(e=>({reference:(e.reference||0)+1})),e=>{Object.defineProperty(e,"syncKey",{value:t,enumerable:!0});let s=!0;setTimeout(()=>{e.on("fragment",e=>{s&&a(()=>({index:e.index,fragmentIndex:e.fragmentIndex}))})},0),window.addEventListener("storage",t=>{if(t.key===n&&t.oldValue&&t.newValue){const n=JSON.parse(t.oldValue),r=JSON.parse(t.newValue);if(n.index!==r.index||n.fragmentIndex!==r.fragmentIndex)try{s=!1,e.slide(r.index,{fragment:r.fragmentIndex})}finally{s=!0}}}),e.on("destroy",()=>{const{reference:e}=r();void 0===e||e<=1?v.remove(n):a(()=>({reference:e-1}))})}}function z({slope:e=Math.tan(-35*Math.PI/180),swipeThreshold:t=30}={}){return n=>{let r;const a=n.parent,s=e=>{const t=a.getBoundingClientRect();return{x:e.pageX-(t.left+t.right)/2,y:e.pageY-(t.top+t.bottom)/2}};a.addEventListener("touchstart",e=>{r=1===e.touches.length?s(e.touches[0]):void 0},{passive:!0}),a.addEventListener("touchmove",e=>{if(r)if(1===e.touches.length){e.preventDefault();const t=s(e.touches[0]),n=t.x-r.x,a=t.y-r.y;r.delta=Math.sqrt(Math.pow(Math.abs(n),2)+Math.pow(Math.abs(a),2)),r.radian=Math.atan2(n,a)}else r=void 0}),a.addEventListener("touchend",a=>{if(r){if(r.delta&&r.delta>=t&&r.radian){let t=r.radian-e;t=(t+Math.PI)%(2*Math.PI)-Math.PI,n[t<0?"next":"prev"](),a.stopPropagation()}r=void 0}},{passive:!0})}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function H(e,t,n,r){return new(n||(n=Promise))((function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))}let W=void 0;const J=()=>(void 0===W&&(W="wakeLock"in navigator&&navigator.wakeLock),W),_=()=>H(void 0,void 0,void 0,(function*(){const e=J();if(e)try{const t=yield e.request("screen");return t.addEventListener("release",()=>{console.debug("[Marp CLI] Wake Lock was released")}),console.debug("[Marp CLI] Wake Lock is active"),t}catch(e){console.warn(e)}return null}));function G(){return H(this,void 0,void 0,(function*(){if(!J())return;let e;const t=()=>{e&&"visible"===document.visibilityState&&_()};return document.addEventListener("visibilitychange",t),document.addEventListener("fullscreenchange",t),e=yield _(),e}))}const Q=[f.Normal,f.Presenter,f.Next];!function(r=document.getElementById("p")){document.body.setAttribute("data-bespoke-view",(()=>{switch(h("view")){case"next":return f.Next;case"presenter":return f.Presenter;default:return f.Normal}})());const i=(e=>{const t=h(e);return g({[e]:void 0}),t})("sync")||void 0,c=!1,u=!0,m=e(r,((...e)=>{const t=Q.findIndex(e=>p()===e);if(t<0)throw new Error("Invalid view");return e.map(([e,n])=>e[t]&&n).filter(e=>e)})([[u,u,c],B({key:i})],[[u,u,u],U(r)],[[u,u,c],o],[[u,u,u],t],[[u,c,c],s()],[[u,u,u],l],[[u,u,u],Y({history:!1})],[[u,u,c],d()],[[u,u,c],a],[[u,c,c],V],[[u,u,c],z()],[[u,c,c],b()],[[u,u,u],n],[[u,u,c],G]));window.addEventListener("beforeunload",()=>g({sync:m.syncKey})),window.addEventListener("unload",()=>m.destroy())}()}();</script></body></html>